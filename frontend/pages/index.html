<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fraud Detection</title>
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <!-- Custom style -->
    <link rel="stylesheet" href="../css/style.css">
</head>

<body class="bg-light">
    <header class="py-4 mb-4 shadow bg-fd-primary text-white">
        <div class="container d-flex flex-column flex-md-row align-items-center justify-content-center gap-3">
            <img src="https://cdn-icons-png.flaticon.com/512/2099/2099079.png" width="56" height="56"
                alt="Fraud Logo" />
            <div class="text-center text-md-start">
                <h1 class="h3 mb-1 fw-bold">Sistem Deteksi Transaksi Mencurigakan</h1>
                <span class="badge bg-fd-warning text-dark fs-6">FRAUD DETECTION SYSTEM</span>
            </div>
        </div>
        <p class="text-center mt-2 mb-0">Demo MVP untuk Hackathon BI 2025</p>
    </header>
    <main class="container mb-5">
        <div class="row gy-4">
            <!-- SECTION 1: Upload File -->
            <section class="col-12">
                <div class="card shadow-sm border-0">
                    <div class="card-body">
                        <h2 class="h5 mb-3 text-fd-primary"><i class="fa-solid fa-upload me-2"></i>1. Unggah File
                            Transaksi Baru</h2>
                        <div class="mb-3 d-flex flex-column flex-sm-row gap-3 align-items-stretch">
                            <input type="file" id="csvFile" accept=".csv" class="form-control" style="max-width:320px;">
                            <button id="uploadBtn" class="btn btn-fd-primary flex-fill"><i
                                    class="fa-solid fa-cloud-arrow-up"></i> Unggah File</button>
                        </div>
                        <div id="loadingUpload" class="spinner-border text-fd-primary d-none" role="status"
                            style="width:2rem;height:2rem;"></div>
                        <p id="uploadStatus" class="mt-2 min-vh-1"></p>
                    </div>
                </div>
            </section>

            <!-- SECTION 2: Dashboard Batch Upload -->
            <section class="col-12">
                <div class="card shadow-sm border-0">
                    <div class="card-body">
                        <h2 class="h5 mb-3 text-fd-primary"><i class="fa-solid fa-database me-2"></i>2. Dashboard Batch
                            Upload</h2>
                        <div class="table-responsive">
                            <table id="batchTable" class="table align-middle table-hover mb-0">
                                <thead class="table-fd-primary">
                                    <tr>
                                        <th>ID Batch</th>
                                        <th>Nama File</th>
                                        <th>Waktu Upload</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="batchBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 3: Hasil Deteksi Anomali -->
            <section class="col-12">
                <div class="card shadow-sm border-0">
                    <div class="card-body">
                        <h2 class="h5 mb-3 text-fd-primary"><i class="fa-solid fa-magnifying-glass-chart me-2"></i>3.
                            Hasil Deteksi Anomali</h2>
                        <p id="resultStatus" class="text-secondary">Pilih "Lihat Hasil" dari batch di atas.</p>
                        <!-- Tambahkan visualisasi Chart.js di sini
                        <div class="w-100 mb-4 d-flex justify-content-center">
                            <canvas id="anomalyLineChart" height="120px" style="max-width:100%"></canvas>
                        </div> -->
                        <div class="w-100 mb-4 d-flex justify-content-center">
                            <canvas id="anomalyPieChart" height="100px" style="max-width:100%"></canvas>
                        </div>
                        <div class="table-responsive">
                            <table id="resultsTable" class="table table-striped align-middle">
                                <thead class="table-fd-warning">
                                    <tr>
                                        <th>Waktu</th>
                                        <th>Nominal</th>
                                        <th>Merchant</th>
                                        <th>Lokasi</th>
                                        <th>Skor Anomali</th>
                                    </tr>
                                </thead>
                                <tbody id="resultsBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>
    <footer class="text-center py-3 bg-white shadow-sm">
        <p class="mb-0 text-fd-primary">&copy; 2025 Tim Fraud Detection <span class="badge bg-fd-primary">Hackathon BI
                2025</span></p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/script.js"></script>
</body>

</html>